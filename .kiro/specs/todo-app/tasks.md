# 実装計画

- [x] 1. プロジェクトのセットアップとコア構造の作成

  - Vite + React + TypeScript プロジェクトの初期化
  - 基本的なディレクトリ構造とファイルの作成
  - 必要な依存関係のインストール（uuid 含む）
  - _要件: 6.3_

- [x] 2. 型定義とデータモデルの実装

  - [x] 2.1 Task 型インターフェースの定義

    - TypeScript で Task インターフェースを作成（src/types/Task.ts）
    - id、title、completed、createdAt プロパティを定義
    - _要件: 1.3, 2.2_

  - [x] 2.2 TaskService クラスの基本構造を実装
    - TaskService クラスの骨組みを作成（src/services/TaskService.ts）
    - ローカルストレージとの連携メソッドの定義
    - _要件: 6.1, 6.2_

- [x] 3. ローカルストレージ機能の実装

  - [x] 3.1 データの保存と読み込み機能を実装

    - saveToStorage()と loadFromStorage()メソッドを実装
    - JSON 形式でのデータシリアライゼーション
    - _要件: 6.1, 6.2, 6.3_

  - [x] 3.2 CRUD 操作メソッドの実装

    - addTask、getTasks、updateTask、deleteTask、toggleTask メソッドを実装
    - 各操作後の自動保存機能
    - _要件: 1.1, 2.1, 3.1, 4.1, 5.2_

  - [ ]\* 3.3 TaskService の単体テストを作成
    - 各 CRUD メソッドのテストケース作成
    - ローカルストレージのモック化
    - _要件: 1.1, 3.1, 4.1, 5.2, 6.1_

- [x] 4. 基本 UI コンポーネントの実装

  - [x] 4.1 App コンポーネントの更新

    - デフォルトの Vite テンプレートコードを削除
    - メインアプリケーションコンポーネントの実装
    - タスクの状態管理（useState）
    - TaskService との連携
    - _要件: 2.1, 2.3_

  - [x] 4.2 TaskForm コンポーネントの実装

    - 新しいタスク追加フォームの作成（src/components/TaskForm.tsx）
    - 入力値のバリデーション
    - Enter キーでの送信対応
    - _要件: 1.1, 1.2_

  - [x] 4.3 TaskList コンポーネントの実装
    - タスク一覧表示コンポーネントの作成（src/components/TaskList.tsx）
    - 空状態（タスクなし）の表示
    - _要件: 2.1, 2.3_

- [x] 5. タスク操作機能の実装

  - [x] 5.1 TaskItem コンポーネントの実装

    - 個別タスクの表示コンポーネント作成（src/components/TaskItem.tsx）
    - チェックボックスによる完了状態切り替え
    - 完了タスクの視覚的区別（取り消し線）
    - _要件: 2.2, 3.1, 3.2, 3.3_

  - [x] 5.2 タスク削除機能の実装

    - TaskItem コンポーネントに削除ボタンの追加
    - 削除処理の実装
    - _要件: 4.1, 4.2_

  - [x] 5.3 タスク編集機能の実装
    - ダブルクリックでの編集モード切り替え
    - インライン編集フォームの実装
    - Enter キーでの保存、Escape キーでのキャンセル
    - _要件: 5.1, 5.2, 5.3, 5.4_

- [x] 6. エラーハンドリングとバリデーションの実装

  - [x] 6.1 ErrorMessage コンポーネントの作成

    - エラーメッセージ表示用コンポーネント（src/components/ErrorMessage.tsx）
    - 自動消去機能
    - _要件: 1.2, 5.4_

  - [x] 6.2 入力バリデーションの実装

    - TaskForm と TaskItem コンポーネントに空のタイトルチェック
    - エラーメッセージの表示
    - _要件: 1.2, 5.4_

  - [ ]\* 6.3 エラーハンドリングのテストを作成
    - バリデーションエラーのテストケース
    - ローカルストレージエラーのテストケース
    - _要件: 1.2, 5.4_

- [x] 7. スタイリングとレスポンシブデザインの実装

  - [x] 7.1 基本スタイルの実装

    - CSS Modules を使用したコンポーネントスタイリング
    - モダンで清潔なデザイン
    - デフォルトの App.css を更新
    - _要件: 2.2, 3.3_

  - [x] 7.2 レスポンシブデザインの実装
    - デスクトップ、タブレット、モバイル対応
    - タッチフレンドリーなボタンサイズ
    - _要件: 全般_

- [x] 8. アプリケーションの統合とテスト

  - [x] 8.1 全コンポーネントの統合

    - すべてのコンポーネントを App に統合
    - データフローの確認
    - _要件: 全般_

  - [x] 8.2 データ永続化の動作確認

    - ページリロード後のデータ復元テスト
    - ブラウザ間でのデータ独立性確認
    - _要件: 6.1, 6.2, 6.3_

  - [ ]\* 8.3 統合テストの作成
    - ユーザーフローの自動テスト
    - E2E テストシナリオの実装
    - _要件: 全般_

- [x] 9. 期限機能の基盤実装

  - [x] 9.1 Task型の拡張

    - Task インターフェースに dueDate プロパティを追加
    - 既存データとの後方互換性を確保
    - _要件: 7.1, 7.5_

  - [x] 9.2 TaskService の期限機能拡張

    - addTask メソッドに期限パラメータを追加
    - updateTask で期限の変更・削除に対応
    - ローカルストレージでの期限データ保存・読み込み
    - _要件: 7.1, 7.5_

- [x] 10. 期限 UI コンポーネントの実装

  - [x] 10.1 DatePicker コンポーネントの作成

    - 日付・時刻選択 UI の実装（src/components/DatePicker.tsx）
    - 過去日時の警告表示
    - 期限クリア機能
    - _要件: 7.1, 7.5_

  - [x] 10.2 TaskForm に期限入力機能を追加

    - DatePicker コンポーネントの統合
    - 期限付きタスク作成の処理
    - バリデーション（過去日時の警告）
    - _要件: 7.1_

  - [x] 10.3 TaskItem に期限表示機能を追加

    - 期限日時の表示
    - 期限切れ・期限間近の視覚的表示
    - 期限編集機能の追加
    - _要件: 7.2, 7.3, 7.4, 7.5_

- [x] 11. 期限管理機能の完成

  - [x] 11.1 TaskSorter コンポーネントの実装

    - 期限順ソート機能（src/components/TaskSorter.tsx）
    - 作成日順、タイトル順ソートの追加
    - 昇順・降順切り替え
    - _要件: 7.6_

  - [x] 11.2 期限アラート機能の実装

    - 24 時間以内の期限近づき警告
    - 期限切れタスクの赤色表示
    - 期限ステータスの計算ロジック
    - _要件: 7.3, 7.4_

  - [x] 11.3 期限機能の統合とテスト

    - 全コンポーネントの統合
    - 期限データの永続化テスト
    - 既存機能との互換性確認
    - _要件: 7.1-7.6_

- [ ] 12. 期限機能の段階的廃止

  - [ ] 12.1 Phase 1: 期限設定UI の非表示化

    - TaskForm から期限入力フィールドを削除
    - TaskItem で期限編集機能を無効化
    - TaskSorter から期限順ソートを削除
    - DatePicker コンポーネントの削除
    - _廃止要件: 7.1, 7.5, 7.6_

  - [ ] 12.2 Phase 1: 既存期限データの読み取り専用化

    - 既存期限の表示機能は保持
    - 期限アラート機能は保持
    - 新規期限設定を無効化
    - _廃止要件: 7.2, 7.3, 7.4_

  - [ ] 12.3 Phase 2: 期限機能の完全削除

    - Task 型から dueDate プロパティを削除
    - TaskService から期限関連メソッドを削除
    - ローカルストレージから期限データをクリーンアップ
    - 期限関連スタイルの削除
    - _廃止要件: 7.1-7.6_

  - [ ] 12.4 廃止後のテストとドキュメント更新

    - 既存機能への影響確認
    - データ永続化テストの更新
    - README の機能説明更新
    - _廃止要件: 全般_