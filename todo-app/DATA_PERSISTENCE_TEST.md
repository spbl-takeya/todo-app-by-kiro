# データ永続化動作確認手順

## 手動テスト手順

### 1. 基本的なデータ永続化テスト

1. **アプリケーションを開く**
   ```bash
   cd todo-app
   npm run dev
   ```

2. **タスクを追加**
   - 「買い物に行く」を追加
   - 「メールを返信する」を追加
   - 「プロジェクトを完了する」を追加

3. **タスクの状態を変更**
   - 「買い物に行く」を完了状態にする
   - 「メールを返信する」のタイトルを「重要なメールを返信する」に編集

4. **ページをリロード**
   - ブラウザでF5キーまたはCmd+Rでリロード
   - すべてのタスクと状態が保持されていることを確認

### 2. ブラウザ間でのデータ独立性確認

1. **Chrome でタスクを作成**
   - 「Chrome用タスク1」を追加
   - 「Chrome用タスク2」を追加

2. **Firefox で同じURLを開く**
   - Chromeで作成したタスクが表示されないことを確認
   - 「Firefox用タスク1」を追加

3. **再度Chromeに戻る**
   - Chrome用のタスクのみが表示されることを確認
   - Firefox用のタスクが表示されないことを確認

### 3. ローカルストレージの直接確認

1. **開発者ツールを開く**
   - F12キーまたは右クリック → 検証

2. **Application/Storage タブを選択**
   - Local Storage → localhost:5173 を選択

3. **データの確認**
   - キー「todos」が存在することを確認
   - 値がJSON形式でタスクデータを含んでいることを確認

### 4. エラーハンドリングテスト

1. **ローカルストレージを無効化**
   - 開発者ツールでローカルストレージを削除
   - アプリケーションが正常に動作することを確認

2. **不正なデータの挿入**
   - 開発者ツールで「todos」キーに不正なJSON文字列を設定
   - アプリケーションがエラーなく起動することを確認

## 期待される結果

### ✅ 正常な動作
- [ ] タスクの追加、編集、削除、完了状態の変更がすべて永続化される
- [ ] ページリロード後もすべてのデータが復元される
- [ ] ブラウザ間でデータが独立している
- [ ] 不正なデータがあってもアプリケーションがクラッシュしない
- [ ] ローカルストレージが無効でもアプリケーションが動作する

### ❌ 問題がある場合
- データが保存されない
- リロード後にデータが消失する
- ブラウザ間でデータが共有される
- 不正なデータでアプリケーションがクラッシュする

## トラブルシューティング

### データが保存されない場合
1. ブラウザのローカルストレージが有効か確認
2. プライベートブラウジングモードでないか確認
3. ブラウザの容量制限に達していないか確認

### データが復元されない場合
1. 開発者ツールでローカルストレージの内容を確認
2. JSON形式が正しいか確認
3. Date オブジェクトの変換が正しく行われているか確認